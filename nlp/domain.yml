version: "3.0"

intents:
  - greet
  - goodbye
  - affirm
  - deny
  - uncertain
  - ask_capabilities
  - done
  - introduce_yourself
  - start_interaction
  - start_profile_gathering
  - set_name
  - set_extraversion
  - set_gender
  - start_blood_pressure_gathering
  - set_blood_pressure
  - start_blood_saturation_gathering
  - set_blood_saturation
  - start_physical_exercise
  - set_reps
  - positive_feedback
  - negative_feedback
  - end_physical_exercise
  - start_count_the_word_cognitive_exercise

entities:
  - PER
  - number
  - extraversion
  - gender
  - physical_exercise_name

slots:
  user_name:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: PER
        intent: set_name
  user_gender:
    type: categorical
    values:
      - male
      - female
    mappings:
      - type: from_entity
        entity: gender
        intent: set_gender
  user_extraversion:
    type: categorical
    influence_conversation: true
    values:
      - extroverted
      - neutral
      - introverted
    initial_value: neutral
    mappings:
      - type: custom
  profile_hobbies:
    type: bool
    influence_conversation: false
    mappings:
      - type: from_intent
        value: true
        intent: affirm
        conditions:
          - active_loop: profile_form
            requested_slot: profile_hobbies
      - type: from_intent
        value: false
        intent: deny
        conditions:
          - active_loop: profile_form
            requested_slot: profile_hobbies
  profile_talkative:
    type: bool
    influence_conversation: false
    mappings:
      - type: from_intent
        value: true
        intent: affirm
        conditions:
          - active_loop: profile_form
            requested_slot: profile_talkative
      - type: from_intent
        value: false
        intent: deny
        conditions:
          - active_loop: profile_form
            requested_slot: profile_talkative
  profile_midst:
    type: bool
    influence_conversation: false
    mappings:
      - type: from_intent
        value: true
        intent: affirm
        conditions:
          - active_loop: profile_form
            requested_slot: profile_midst
      - type: from_intent
        value: false
        intent: deny
        conditions:
          - active_loop: profile_form
            requested_slot: profile_midst
  profile_meet:
    type: bool
    influence_conversation: false
    mappings:
      - type: from_intent
        value: true
        intent: affirm
        conditions:
          - active_loop: profile_form
            requested_slot: profile_meet
      - type: from_intent
        value: false
        intent: deny
        conditions:
          - active_loop: profile_form
            requested_slot: profile_meet
  profile_aloof:
    type: bool
    influence_conversation: false
    mappings:
      - type: from_intent
        value: true
        intent: affirm
        conditions:
          - active_loop: profile_form
            requested_slot: profile_aloof
      - type: from_intent
        value: false
        intent: deny
        conditions:
          - active_loop: profile_form
            requested_slot: profile_aloof
  profile_revive:
    type: bool
    influence_conversation: false
    mappings:
      - type: from_intent
        value: true
        intent: affirm
        conditions:
          - active_loop: profile_form
            requested_slot: profile_revive
      - type: from_intent
        value: false
        intent: deny
        conditions:
          - active_loop: profile_form
            requested_slot: profile_revive
  profile_confident:
    type: bool
    influence_conversation: false
    mappings:
      - type: from_intent
        value: true
        intent: affirm
        conditions:
          - active_loop: profile_form
            requested_slot: profile_confident
      - type: from_intent
        value: false
        intent: deny
        conditions:
          - active_loop: profile_form
            requested_slot: profile_confident
  physical_exercise_name:
    type: text
    influence_conversation: false
    mappings:
      - type: custom
  reps:
    type: text
    influence_conversation: false
    mappings:
      - type: custom
  word_sequence:
    type: text
    influence_conversation: false
    mappings:
      - type: custom
  word:
    type: text
    influence_conversation: false
    mappings:
      - type: custom
  num_words:
    type: float
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: number
        conditions:
          - active_loop: count_the_word_form
            requested_slot: num_words
  systolic_blood_pressure:
    type: float
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: number
        conditions:
          - active_loop: blood_pressure_measurement_form
            requested_slot: systolic_blood_pressure
  diastolic_blood_pressure:
    type: float
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: number
        conditions:
          - active_loop: blood_pressure_measurement_form
            requested_slot: diastolic_blood_pressure
  heart_beat:
    type: float
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: number
        conditions:
          - active_loop: blood_pressure_measurement_form
            requested_slot: heart_beat
  blood_saturation:
    type: float
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: number
        conditions:
          - active_loop: blood_saturation_measurement_form
            requested_slot: blood_saturation
  sleep_time:
    type: float
    influence_conversation: false
    min_value: 0.0
    max_value: 1000.0
    initial_value: 120.0
    mappings:
      - type: custom
  command_state:
    type: categorical
    influence_conversation: false
    values:
      - executing
      - done
      - failure
    mappings:
      - type: custom

forms:
  profile_form:
    ignored_intents:
      - affirm
    required_slots:
      - user_name
      - user_gender
      - profile_hobbies
      - profile_talkative
      - profile_midst
      - profile_meet
      - profile_aloof
      - profile_revive
      - profile_confident
  count_the_word_form:
    required_slots:
      - num_words
  blood_pressure_measurement_form:
    required_slots:
      - systolic_blood_pressure
      - diastolic_blood_pressure
      - heart_beat
  blood_saturation_measurement_form:
    required_slots:
      - blood_saturation

responses:
  utter_greet:
    - custom:
        text: Ciao!
        face: talking
    - custom:
        text: Hey!
        face: talking

  utter_greet_name:
    - custom:
        text: Ciao {user_name}!
        face: talking
    - custom:
        text: Hey {user_name}!
        face: talking

  utter_greet_male:
    - custom:
        text: Ciao bello!
        face: talking
    - custom:
        text: Hey bello!
        face: talking

  utter_greet_female:
    - custom:
        text: Ciao bella!
        face: talking
    - custom:
        text: Hey bella!
        face: talking

  utter_help_proposal:
    - custom:
        text: Posso esserti utile?
        face: talking
    - custom:
        text: Posso fare qualcosa per te?
        face: talking
    - custom:
        text: Posso esserti utile?
        face: talking
    - custom:
        text: Come posso aiutarti?
        face: talking

  utter_help_further_proposal:
    - custom:
        text: Posso fare qualcos'altro per te?
        face: talking
    - custom:
        text: Posso fare altro per te?
        face: talking
    - custom:
        text: Ti serve qualche altra cosa?
        face: talking
    - custom:
        text: Ti serve altro?
        face: talking

  utter_ask_confirm:
    - custom:
        text: Ok?
        face: talking
    - custom:
        text: Va bene?
        face: talking
    - custom:
        text: Cominciamo?
        face: talking
    - custom:
        text: Vogliamo cominciare?
        face: talking

  utter_I_am_here:
    - custom:
        text: Ok! Quando vuoi sono qui!
        face: talking
    - custom:
        text: Ok! Resto a disposizione!
        face: talking
    - custom:
        text: Ok! Puoi chiamarmi quando vuoi!
        face: talking
    - custom:
        text: Ok! Sai dove trovarmi!
        face: talking

  utter_presentation:
    - custom:
        text: Sono un robot di assistenza domestica che sta sviluppando l'ISTC all'interno del progetto Si-Robotics!
        face: talking

  utter_ask_what_I_do:
    - custom:
        text: Vuoi sapere cosa faccio?
        face: talking
    - custom:
        text: Vuoi sapere cosa so fare?
        face: talking
    - custom:
        text: Vuoi sapere come posso aiutarti?
        face: talking

  utter_present_capabilities:
    - custom:
        text: Il mio compito è di cercare di aiutare le persone anziane a mantenersi sane e in forma. Se vuoi ulteriori informazioni chiedile pure a chi mi ha costruito.
        face: talking

  utter_goodbye:
    - custom:
        text: Ciao!
        face: talking
    - custom:
        text: Arrivederci!
        face: talking
    - custom:
        text: A presto!
        face: talking

  utter_positive_feedback:
    - custom:
        text: Ben fatto!
        face: talking
    - custom:
        text: Molto bene!
        face: talking
    - custom:
        text: Continua così!
        face: talking
    - custom:
        text: Grande!
        face: talking

  utter_negative_feedback_introverse:
    - custom:
        text: Uhm, non proprio... ma non ti scoraggiare! Stai comunque andando bene.
        face: talking
    - custom:
        text: Non esattamente, ma ci siamo quasi!
        face: talking

  utter_negative_feedback_estroverse:
    - custom:
        text: No no!
        face: talking
    - custom:
        text: Ma cosa stai facendo? No no!
        face: talking
    - custom:
        text: Non così!
        face: talking

  utter_reassure:
    - custom:
        text: Non ti preoccupare, partiamo da qualcosa di facile.
        face: talking

  utter_start_profile_gathering:
    - custom:
        text: Ti farò alcune domande per capire meglio come interagire con te.
        face: talking
    - custom:
        text: Ora ti farò alcune domande per capire meglio come interagire con te.
        face: talking
    - custom:
        text: Ti farò alcune domande per personalizzare la mia interazione con te.
        face: talking
    - custom:
        text: Ora ti farò alcune domande per personalizzare la mia interazione con te.
        face: talking

  utter_ask_user_name:
    - custom:
        text: Come ti chiami?
        face: talking
    - custom:
        text: Quale è il tuo nome?
        face: talking
    - custom:
        text: Come posso chiamarti?
        face: talking

  utter_ask_user_extraversion:
    - custom:
        text: Ti senti più una persona estroversa oppure introversa?
        face: talking
    - custom:
        text: Secondo te sei più una persona estroversa oppure introversa?
        face: talking

  utter_ask_user_gender:
    - custom:
        text: Vuoi che mi riferisca a te usando il maschile o il femminile?
        face: talking
    - custom:
        text: Preferisci che con te io usi il maschile oppure il femminile?
        face: talking

  utter_ask_profile_hobbies:
    - custom:
        text: Hai molti hobby o passatempi?
        face: talking

  utter_ask_profile_talkative:
    - custom:
        text: Sei una persona che parla molto?
        face: talking

  utter_ask_profile_midst:
    - custom:
        text: Ti piace stare in mezzo alla gente?
        face: talking

  utter_ask_profile_meet:
    - custom:
        text: Ti piace incontrare gente nuova?
        face: talking

  utter_ask_profile_aloof:
    - custom:
        text: Quando stai con la gente, tendi a startene in disparte?
        face: talking

  utter_ask_profile_revive:
    - custom:
        text: Di solito, ti  riesce facile rianimare una festa noiosa?
        face: talking

  utter_ask_profile_confident:
    - custom:
        text: Ti consideri una persona fiduciosa e spensierata?
        face: talking

  utter_ask_profile_vitality:
    - custom:
        text: I tuoi amici ti considerano una persona piena di vitalità?
        face: talking

  utter_profile_gathered:
    - custom:
        text: Molto bene. Ora so tutto quello di cui avevo bisogno.
        face: talking
    - custom:
        text: Molto bene. Ora conosco tutto quello di cui avevo bisogno.
        face: talking
    - custom:
        text: Molto bene. Ora posso personalizzare la mia interazione con te sulla base delle informazioni che mi hai dato.
        face: talking

  utter_start_blood_pressure_gathering:
    - custom:
        text: Hai già misurato la pressione oggi?
        face: talking
    - custom:
        text: Ciao {user_name}! Hai già misurato la pressione oggi?
        face: talking
    - custom:
        text: Ciao {user_name}! Vuoi indicarmi i tuoi attuali valori pressori?
        face: talking

  utter_measure_blood_pressure:
    - custom:
        text: Misurala ora e comunicami i valori.
        face: talking
    - custom:
        text: Misurala ora e, quando hai fatto, comunicami i valori.
        face: talking

  utter_ask_systolic_blood_pressure:
    - custom:
        text: Quale è la tua pressione sistolica?
        face: talking
    - custom:
        text: Puoi dirmi, per cortesia, la tua pressione sistolica?
        face: talking
    - custom:
        text: Mi dici, per favore, la tua pressione sistolica?
        face: talking

  utter_ask_diastolic_blood_pressure:
    - custom:
        text: Quale è la tua pressione diastolica?
        face: talking
    - custom:
        text: Puoi dirmi, per cortesia, la tua pressione diastolica?
        face: talking
    - custom:
        text: Mi dici, per favore, la tua pressione diastolica?
        face: talking

  utter_ask_heart_beat:
    - custom:
        text: Quale è la tua frequenza cardiaca?
        face: talking
    - custom:
        text: Puoi dirmi, per cortesia, il numero di pulsazioni?
        face: talking
    - custom:
        text: Mi dici, per favore, le tue pulsazioni attuali?
        face: talking
    - custom:
        text: Mi dici, per favore, la tua attuale frequenza cardiaca?
        face: talking

  utter_blood_pressure_recap:
    - custom:
        text: La tua attuale pressione è di {systolic_blood_pressure} su {diastolic_blood_pressure}.
        face: talking
    - custom:
        text: La tua attuale pressione sistolica è di {systolic_blood_pressure}, mentre la diastolica è di {diastolic_blood_pressure}.
        face: talking
    - custom:
        text: La tua attuale pressione massima è di {systolic_blood_pressure}, mentre la minima è di {diastolic_blood_pressure}.
        face: talking

  utter_blood_pressure_ok:
    - custom:
        text: Bene! Direi che la tua pressione oggi è ottima!
        face: talking
    - custom:
        text: Molto bene! Direi che la tua pressione oggi è ottima!
        face: talking
    - custom:
        text: Molto bene! La tua attuale pressione è ottima!
        face: talking

  utter_high_systolic_blood_pressure:
    - custom:
        text: La tua pressione sistolica, di {systolic_blood_pressure}, è un pochino sopra la soglia raccomandata.
        face: talking
    - custom:
        text: La tua pressione oggi supera la soglia raccomandata.
        face: talking
    - custom:
        text: La tua attuale pressione sistolica, di {systolic_blood_pressure}, supera la soglia raccomandata.
        face: talking

  utter_high_diastolic_blood_pressure:
    - custom:
        text: La tua pressione diastolica, di {diastolic_blood_pressure}, è un pochino sopra la soglia raccomandata.
        face: talking
    - custom:
        text: La tua pressione oggi supera la soglia raccomandata.
        face: talking
    - custom:
        text: La tua attuale pressione diastolica, di {diastolic_blood_pressure}, supera la soglia raccomandata.
        face: talking

  utter_start_blood_saturation_gathering:
    - custom:
        text: Hai già misurato la saturazione di ossigeno oggi?
        face: talking
    - custom:
        text: Ciao {user_name}! Hai già misurato la saturazione di ossigeno oggi?
        face: talking
    - custom:
        text: Ciao {user_name}! Vuoi indicarmi i tuoi attuali valori di saturazione dell'ossigeno?
        face: talking

  utter_measure_blood_saturation:
    - custom:
        text: Misurala ora e comunicami il valore di saturazione.
        face: talking
    - custom:
        text: Misurala ora e, quando hai fatto, comunicami il valore di saturazione.
        face: talking
    - custom:
        text: Misurala ora e, per favore, comunicami il valore di saturazione.
        face: talking

  utter_ask_blood_saturation:
    - custom:
        text: Quale è la tua saturazione di ossigeno?
        face: talking
    - custom:
        text: Puoi dirmi, per cortesia, la tua saturazione di ossigeno?
        face: talking

  utter_blood_saturation_recap:
    - custom:
        text: La tua attuale saturazione di ossigeno è di {blood_saturation}.
        face: talking

  utter_blood_saturation_ok:
    - custom:
        text: Bene! Direi che la tua saturazione di ossigeno oggi è ottima!
        face: talking
    - custom:
        text: Molto bene! Direi che la tua saturazione di ossigeno oggi è ottima!
        face: talking
    - custom:
        text: Molto bene! La tua attuale saturazione di ossigeno è ottima!
        face: talking

  utter_low_blood_saturation:
    - custom:
        text: La tua saturazione di ossigeno, di {blood_saturation}, è un pochino sotto la soglia raccomandata.
        face: talking
    - custom:
        text: La tua saturazione di ossigeno oggi supera la soglia raccomandata.
        face: talking
    - custom:
        text: La tua attuale saturazione di ossigeno, di {blood_saturation}, è inferiore la soglia raccomandata.
        face: talking

  utter_start_physical_exercise:
    - custom:
        text: Cominceremo ora un esercizio di {physical_exercise_name}
        face: talking
    - custom:
        text: Faremo ora un esercizio di {physical_exercise_name}
        face: talking

  utter_count_reps:
    - custom:
        text: "{reps}"
        face: talking

  utter_start_cognitive_exercise:
    - custom:
        text: Ciao {user_name}! Cominceremo ora la nostra sessione giornaliera di esercizi! Oggi ti proporrò alcuni giochi.
        face: talking

  utter_describe_count_the_words:
    - custom:
        text: Ora ti dirò una lista di parole. Alla fine, mi dirai quante volte ho detto la parola {word}.
        face: talking
    - custom:
        text: Ora, ti dirò una lista di parole. Alla fine vorrei che mi dicessi quante volte ho detto la parola {word}.
        face: talking
    - custom:
        text: Adesso ti elencherò una serie di parole. Fai attenzione, perchè alla fine dovrai dirmi quante volte ho detto la parola {word}.
        face: talking

  utter_start_count_the_word:
    - custom:
        text: Andiamo! {word_sequence}.
        face: talking
    - custom:
        text: Cominciamo! {word_sequence}.
        face: talking
    - custom:
        text: "Le parole sono: {word_sequence}."
        face: talking

  utter_count_the_word:
    - custom:
        text: "{word_sequence}."
        face: talking

  utter_ask_num_words:
    - custom:
        text: Quante volte ho detto la parola {word}?
        face: talking
    - custom:
        text: Quante volte è stata detta la parola {word}?
        face: talking

  utter_count_the_words_done:
    - custom:
        text: Lo sapevo che ce l'avresti fatta!
        face: talking
    - custom:
        text: Sapevo che ce l'avresti fatta!
        face: talking

  utter_out_of_scope:
    - custom:
        text: Mi spiace! Non so come gestire la tua richiesta.
        face: talking
    - custom:
        text: Spiacente! Non so come risponderti.
        face: talking
    - custom:
        text: Mi spiace! Non so risponderti.
        face: talking

  utter_please_rephrase:
    - custom:
        text: Mi spiace, non ho capito cosa hai detto. Puoi provare a rifrasare?
        face: talking
    - custom:
        text: Mi spiace, non ho capito cosa hai detto. Puoi ripeterlo in un altro modo?
        face: talking
    - custom:
        text: Puoi provare a ripeterlo in un altro modo?
        face: talking
    - custom:
        text: Puoi provare a ripetere l'ultima cosa che hai detto in un altro modo?
        face: talking

  utter_default:
    - custom:
        text: Mi spiace, non ho capito cosa hai detto. Puoi provare a rifrasare?
        face: talking
    - custom:
        text: Mi spiace, non ho capito cosa hai detto. Puoi ripeterlo in un altro modo?
        face: talking
    - custom:
        text: Puoi provare a ripeterlo in un altro modo?
        face: talking
    - custom:
        text: Puoi provare a ripetere l'ultima cosa che hai detto in un altro modo?
        face: talking

actions:
  - action_command_start
  - action_command_done
  - action_command_failure
  - action_command_pending
  - action_profile_analysis
  - action_blood_pressure_analysis
  - action_blood_saturation_analysis
  - validate_count_the_word_form

session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true
