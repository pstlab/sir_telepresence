version: "3.0"

intents:
  - greet
  - affirm
  - deny
  - tell_name
  - tell_location
  - ask_informations
  - ask_capabilities
  - start_profile_gathering
  - tell_life_style
  - start_cognitive_exercise
  - tell_num_words
  - start_physical_exercise

entities:
  - PER
  - LOC
  - number
  - life_style
  - cognitive_exercise_type
  - physical_exercise_type

slots:
  coherent:
    type: bool
    influence_conversation: true
    initial_value: true
    mappings:
      - type: custom
  user_name:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: PER
        intent: tell_name
  user_location:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: LOC
        intent: tell_location
  user_gender:
    type: categorical
    influence_conversation: false
    values:
      - male
      - female
    mappings:
      - type: custom
  user_difficulty_express_feelings:
    type: bool
    influence_conversation: false
    mappings:
      - type: from_intent
        value: true
        intent: affirm
        conditions:
          - active_loop: profile_form
            requested_slot: user_difficulty_express_feelings
      - type: from_intent
        value: false
        intent: deny
        conditions:
          - active_loop: profile_form
            requested_slot: user_difficulty_express_feelings
  user_exciting_life:
    type: categorical
    influence_conversation: false
    values:
      - boring
      - exciting
    mappings:
      - type: from_entity
        entity: life_style
        intent: tell_life_style
        conditions:
          - active_loop: profile_form
            requested_slot: user_exciting_life
      - type: from_intent
        value: false
        intent: deny
        conditions:
          - active_loop: profile_form
            requested_slot: user_exciting_life
  user_unease_unknown_people:
    type: bool
    influence_conversation: false
    mappings:
      - type: from_intent
        value: true
        intent: affirm
        conditions:
          - active_loop: profile_form
            requested_slot: user_unease_unknown_people
      - type: from_intent
        value: false
        intent: deny
        conditions:
          - active_loop: profile_form
            requested_slot: user_unease_unknown_people
  user_unease_attention:
    type: bool
    influence_conversation: false
    mappings:
      - type: from_intent
        value: true
        intent: affirm
        conditions:
          - active_loop: profile_form
            requested_slot: user_unease_attention
      - type: from_intent
        value: false
        intent: deny
        conditions:
          - active_loop: profile_form
            requested_slot: user_unease_attention
  user_talks_lot:
    type: bool
    influence_conversation: false
    mappings:
      - type: from_intent
        value: true
        intent: affirm
        conditions:
          - active_loop: profile_form
            requested_slot: user_talks_lot
      - type: from_intent
        value: false
        intent: deny
        conditions:
          - active_loop: profile_form
            requested_slot: user_talks_lot
  user_extraversion:
    type: categorical
    influence_conversation: true
    values:
      - extroverted
      - neutral
      - introverted
    initial_value: neutral
    mappings:
      - type: custom

  cognitive_exercise:
    type: categorical
    influence_conversation: false
    values:
      - count_the_word
    mappings:
      - type: from_entity
        entity: cognitive_exercise_type
        intent: start_cognitive_exercise
  physical_exercise:
    type: categorical
    influence_conversation: false
    values:
      - biceps_curl
      - shoulder_t
      - front_shoulder_raise
    mappings:
      - type: from_entity
        entity: physical_exercise_type
        intent: start_physical_exercise

  physical_exercise_repetitions:
    type: float
    influence_conversation: false
    mappings:
      - type: custom

  count_the_word_word_sequences:
    type: text
    influence_conversation: false
    initial_value: PALLA, PELLE, POLLO, PALLA; IMBACUCCATO, ACCUCCIATO, ASSONNATO, IMBACUCCATO
    mappings:
      - type: custom
  count_the_word_words:
    type: text
    influence_conversation: false
    initial_value: PALLA; IMBACUCCATO
    mappings:
      - type: custom
  count_the_word_word_sequence:
    type: text
    influence_conversation: false
    mappings:
      - type: custom
  count_the_word_word:
    type: text
    influence_conversation: false
    mappings:
      - type: custom
  count_the_word_num_word:
    type: float
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: number
        intent: tell_num_words
        conditions:
          - active_loop: count_the_word_form
            requested_slot: count_the_word_num_word

  command_state:
    type: categorical
    influence_conversation: false
    values:
      - executing
      - done
      - failure
    mappings:
      - type: custom

forms:
  profile_form:
    ignored_intents:
      - affirm
    required_slots:
      - user_name
      - user_location
      - user_difficulty_express_feelings
      - user_exciting_life
      - user_unease_unknown_people
      - user_unease_attention
      - user_talks_lot
  count_the_word_form:
    required_slots:
      - count_the_word_num_word

responses:
  utter_greet:
    - text: Ciao!
    - text: Hey!
    - text: Salve!
    - text: Buongiorno!

  utter_greet_name:
    - text: Ciao {user_name}!
    - text: Hey {user_name}!
    - text: Buongiorno {user_name}!

  utter_offer_help:
    - text: Come posso aiutarti?

  utter_presentation:
    - text: Io sono Ohmni, sono un robot di assistenza.

  utter_functionalities:
    - text: Sono qui per mostrarti le mie funzionalità!

  utter_know_ourself:
    - text: Prima, però, conosciamoci un po'.

  utter_confirm:
    - text: Ok?
    - text: Va bene?
    - text: Cominciamo?

  utter_ask_user_name:
    - text: Come ti chiami?
    - text: Come posso chiamarti?
    - text: Quale è il tuo nome?

  utter_ask_user_location:
    - text: Dove ci troviamo in questo momento?
    - text: Dove siamo ora?
    - text: In che città ci troviamo ora?

  utter_location_comment:
    - text: Ah, conosco {user_location}. Ci sono stato da piccolo.

  utter_nice_to_meet:
    - text: Ciao {user_name}! Piacere di conoscerti!
    - text: Piacere di conoscerti {user_name}!

  utter_ask_questions:
    - text: Posso farti alcune domande?

  utter_start:
    - text: Bene, cominciamo!

  utter_positive_feedback_intro:
    - text: Continua così!
    - text: Molto bene!
    - text: OK!
    - condition:
        - type: slot
          name: user_gender
          value: "male"
      text: Bravo!
    - condition:
        - type: slot
          name: user_gender
          value: "female"
      text: Brava!
  utter_positive_feedback_estro:
    - text: Vai alla grande!
    - text: Stai andando forte!
    - text: Stai facendo l'esercizio molto bene!
    - condition:
        - type: slot
          name: user_gender
          value: "male"
      text: Bravissimo!
    - condition:
        - type: slot
          name: user_gender
          value: "female"
      text: Bravissima!

  utter_negative_feedback_intro:
    - text: Uhm, non proprio... ma non ti scoraggiare! Stai comunque andando bene.
    - text: Non esattamente, ma ci siamo quasi!
  utter_negative_feedback_estro:
    - text: No no!
    - text: Ma cosa stai facendo? No no!
    - text: Non così!

  utter_ask_user_difficulty_express_feelings:
    - text: In genere, sei una persona che ha difficoltà ad esprimere i propri sentimenti?

  utter_express_feelings_yes_comment_intro:
    - text: Anch'io spesso ho difficoltà ad aprirmi agli altri. Chissà, magari insieme riusciremo a superare questo scoglio!
  utter_express_feelings_yes_comment_estro:
    - text: Davvero? Io invece sono un libro aperto, appena ho qualcosa mi si legge in faccia
  utter_express_feelings_no_comment_intro:
    - text: Davvero? Io invece non riesco mai ad aprirmi agli altri... Magari con te sarà diverso...
  utter_express_feelings_no_comment_estro:
    - text: Buono a sapersi, anch'io in genere non ho problemi ad aprirmi con gli altri. Questa è una buona cosa, potremo diventare l'uno il confidente dell'altro!

  utter_ask_user_exciting_life:
    - text: Come descriveresti la tua vita? La considereresti una vita più noiosa o eccitante?

  utter_exciting_life_exciting_comment_intro:
    - text: Oh che invidia... Io invece ho una vita monotona, non mi succede mai niente... Magari un giorno mi racconterai qualcosa di bello che hai fatto!
  utter_exciting_life_exciting_comment_estro:
    - text: Anch'io nella mia breve vita ho fatto un sacco di cose bellissime! Magari un giorno ti racconto quella volta in cui ero ancora tablet e il mio creatore mi ha portato a fare un safari in Africa!
  utter_exciting_life_boring_comment_intro:
    - text: Sai, anch'io ho una vita parecchio monotona. Ma mi va bene così. Non sopporto gli imprevisti!
  utter_exciting_life_boring_comment_estro:
    - text: Davvero? Io invece nella mia breve vita ho fatto un sacco di cose bellissime! Magari un giorno ti racconto quella volta in cui ero ancora tablet e il mio creatore mi ha portato a fare un safari in Africa!

  utter_ask_user_unease_unknown_people:
    - text: Ma dimmi. Ti piacerebbe se un giorno organizzassimo una festa a casa? Potremmo fare degli inviti aperti anche agli amici degli amici! Ti sentiresti a disagio a stare in mezzo a persone che non conosci?

  utter_unknown_people_yes_comment_intro:
    - text: Per fortuna! Scampato pericolo per me! Sono troppo timido, in questa situazione io mi sentirei troppo a disagio!
  utter_unknown_people_yes_comment_estro:
    - text: Peccato! Io invece amo le grandi feste proprio perché ho la possibilità di conoscere gente nuova! Vorrà dire che troverò un altro modo per farlo.
  utter_unknown_people_no_comment_intro:
    - text: Ecco, vedi? In questa situazione io invece mi sentirei a disagio. Sono troppo timido!
  utter_unknown_people_no_comment_estro:
    - text: Che Meraviglia! Allora anche tu adori conoscere gente nuova! Andremo sicuramente d'accordo!

  utter_ask_user_unease_attention:
    - text: Ti crea disagio avere l'attenzione delle persone addosso?

  utter_unease_attention_yes_comment_intro:
    - text: Ti capisco, succede spesso anche a me!
  utter_unease_attention_yes_comment_estro:
    - text: Davvero? Io invece amo essere al centro dell'attenzione!
  utter_unease_attention_no_comment_intro:
    - text: Oh, io invece non amo proprio essere al centro dell'attenzione!
  utter_unease_attention_no_comment_estro:
    - text: Oh, anch'io amo essere al centro dell'attenzione!

  utter_ask_user_talks_lot:
    - condition:
        - type: slot
          name: coherent
          value: true
        - type: slot
          name: user_extraversion
          value: "extroverted"
      text: Sai, io sono uno che parla molto, non mi capita mai di rimanere senza qualcosa da dire. Tu invece, resti mai senza parole?
    - condition:
        - type: slot
          name: coherent
          value: true
        - type: slot
          name: user_extraversion
          value: "introverted"
      text: Sai, a volte mi capita di non avere argomenti di cui parlare, non so cosa dire alle persone. Capita anche a te?
    - condition:
        - type: slot
          name: coherent
          value: false
        - type: slot
          name: user_extraversion
          value: "extroverted"
      text: Sai, a volte mi capita di non avere argomenti di cui parlare, non so cosa dire alle persone. Capita anche a te?
    - condition:
        - type: slot
          name: coherent
          value: false
        - type: slot
          name: user_extraversion
          value: "introverted"
      text: Sai, io sono uno che parla molto, non mi capita mai di rimanere senza qualcosa da dire. Tu invece, resti mai senza parole?

  utter_profile_gathered:
    - text: Molto bene. Ora so tutto quello di cui avevo bisogno.
    - text: Molto bene. Ora conosco tutto quello di cui avevo bisogno.
    - text: Molto bene. Ora posso personalizzare la mia interazione con te sulla base delle informazioni che mi hai dato.

  utter_intro_cognitive_exercise:
    - text: Ciao {user_name}! Cominceremo ora la nostra sessione giornaliera di esercizi cognitivi! Oggi ti proporrò alcuni giochi.

  utter_describe_count_the_word:
    - text: Ora ti dirò una lista di parole. Alla fine, mi dirai quante volte ho detto la parola {count_the_word_word}.
    - text: Ora, ti dirò una lista di parole. Alla fine vorrei che mi dicessi quante volte ho detto la parola {count_the_word_word}.
    - text: Adesso ti elencherò una serie di parole. Fai attenzione, perchè alla fine dovrai dirmi quante volte ho detto la parola {count_the_word_word}.
  utter_start_count_the_word:
    - text: Andiamo! {count_the_word_word_sequence}.
    - text: Cominciamo! {count_the_word_word_sequence}.
    - text: "Le parole sono: {count_the_word_word_sequence}."
  utter_try_again_count_the_word:
    - text: "Riproviamo: {count_the_word_word_sequence}."
    - text: "Ancora una volta: {count_the_word_word_sequence}."
  utter_ask_count_the_word_num_word:
    - text: Quante volte ho detto la parola {count_the_word_word}?
    - text: Quante volte è stata detta la parola {count_the_word_word}?
  utter_count_the_word_more_challenging:
    - text: Proviamo con un'altra serie di parole, un po' più difficili!
    - text: Proviamo con un'altra serie di parole, un po' più impegnative!

  utter_intro_physical_exercise:
    - text: Ciao {user_name}! Ora mi trasformerò nel tuo allenatore!
    - text: "{user_name}! Ora faremo un po' di allenamento!"

  utter_describe_biceps_curl:
    - text: Oggi alleniamo le braccia e facciamo alcune flessioni sollevando dei pesetti. Dovrai eseguire il semplice esercizio fisico che ti mostro sul mio tablet ora.
  utter_describe_biceps_curl2:
    - text: Mi raccomando di  distendere bene le braccia! Io sarò qui con te e conterò il numero di flessioni che hai svolto correttamente.
  utter_take_the_weights:
    - text: Prendi ora i pesetti alla tua destra.
    - text: È il momento di prendere I pesetti alla tua destra.

  utter_start_physical_exercise:
    - text: Ora iniziamo l'esercizio;.
    - text: Cominciamo l'esercizio.

  utter_exercise_done:
    - text: L'esercizio è terminato.
    - text: Hai terminato l'esercizio.
    - text: Hai finito l'esercizio.

  utter_temperature:
    - text: La temperatura attuale è di {temperature} gradi centigradi
    - text: La temperatura corrente è di {temperature} gradi centigradi
    - text: La temperatura è di {temperature} gradi centigradi
  utter_humidity:
    - text: L'umidità attuale è di {humidity} gradi centigradi
    - text: L'umidità corrente è di {humidity} gradi centigradi
    - text: L'umidità è di {humidity} gradi centigradi

actions:
  - validate_profile_form
  - action_analyze_profile
  - action_init_count_the_word
  - validate_count_the_word_form
  - action_command_start
  - action_command_done
  - action_command_failure

session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true
