version: "2.0"

intents:
  - greeting
  - presentation
  - affirmation
  - negation
  - help_request
  - chest_press_start_command
  - request_profile_questionnaire
  - pressure_pills_reminder_start_command
  - pressure_measurement_reminder_start_command
  - MQTT_Prefix

entities:
  - PER
  - time
  - number

slots:
  PER:
    type: text
    influence_conversation: true
  mqtt_prefix:
    type: text
    influence_conversation: false
  sigma:
    type: text
    influence_conversation: false
  num_press:
    type: text
    influence_conversation: false
  weight:
    type: text
    influence_conversation: false
  happiness:
    type: float
    influence_conversation: true
  has_memory_issues:
    type: bool
  has_physical_issues:
    type: bool

responses:
  utter_greeting:
    - text: Ciao!
    - text: Buongiorno!

  utter_greeting_name:
    - text: Ciao {PER}!
    - text: Buongiorno {PER}!

  utter_good:
    - text: Ok!
    - text: Molto bene!
    - text: Ben fatto!

  utter_bad:
    - text: Non preoccuparti! Sono qui per questo.
    - text: Sono qui per aiutarti!
    - text: Se non ci fossi io...

  utter_help_offer:
    - text: Posso esserti utile?
    - text: Cosa posso fare per te?
    - text: Posso fare qualcosa per te?
    - text: Come posso aiutarti?
  
  utter_profile_questionnaire_presentation:
    - text: Per migliorare l'interazione con il sistema ho bisogno di alcune semplici informazioni. Ti va di rispondere ad alcune domande?
    - text: Per migliorare l'interazione con il sistema ho bisogno di farti alcune domande. Ti va di farlo ora?
  
  utter_ask_has_memory_issues:
    - text: Ti capita spesso di dimenticare le cose?
  
  utter_ask_has_physical_issues:
    - text: Ti capita spesso di affaticarti, anche quando svolgi dei compiti semplici?

  utter_pressure_pills_reminder:
    - text: Hai già preso le pillole per la pressione?
    - text: Hai preso le pillole per la pressione, oggi?

  utter_pressure_measurement_reminder:
    - text: Hai già preso misurato la pressione?
    - text: Hai già preso misurato la pressione cardiaca?
    - text: Hai misurato la pressione, oggi?

  utter_chest_press:
    - text: Svolgeremo delle distensioni delle braccia sul petto. Va bene?
    - text: Che ne dici di svolgere delle distensioni delle braccia sul petto?
    - text: È il momento di svolgere delle distensioni delle braccia sul petto. Va bene?

  utter_chest_press_start:
    - text: Iniziamo con il fare {num_press} distensioni delle braccia sul petto con {weight} kg.
    - text: Faremo {num_press} distensioni delle braccia sul petto con {weight} kg.

  utter_default:
    - text: Scusami ma non ho capito. Puoi ripetere in un altro modo?
    - text: Non ho capito. Puoi ripetere in un altro modo?
    - text: Non ho capito cosa hai detto. Puoi ridirlo in un altro modo?

actions:
  - action_mqtt_prefix
  - action_command_start
  - action_command_done
  - action_command_failure

forms:
  profile_questionnaire_form:
    required_slots:
        has_memory_issues:
        - type: from_intent
          value: true
          intent: affirmation
        - type: from_intent
          value: false
          intent: negation
        has_physical_issues:
        - type: from_intent
          value: true
          intent: affirmation
        - type: from_intent
          value: false
          intent: negation

session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true
